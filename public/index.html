<html>
<head>
  <title>มาอวดจังหวัดที่เคยไปกัน!</title>
  <base href="{{ site_url }}">
	<meta charset="utf-8">
  <meta name="viewport" content="widtd=device-widtd,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">

  <!-- for Google -->
  <meta name="description" content="พิมพ์ชื่อจังหวัดที่เคยไป แล้วแสดงเป็นแผนที่ไปอวดเพื่อนได้เลย! เมืองไทยมีที่เที่ยวมากมาย น้ำตก ทะเล ภูเขา เที่ยวไทย ไม่ไปไม่รู้" />
  <meta name="keywords" content="map, visualization, choropleth, thailand, travel, แผนที่, ท่องเที่ยว, เที่ยวไทย, จังหวัด" />
  <meta name="author" content="Boonmee Lab" />

  <!-- for Facebook -->
  <meta property="og:title" content="มาอวดจังหวัดที่เคยไปกัน!" />
  <meta property="og:type" content="article" />
  <meta property="og:image" content="{{ site_url }}/public/thumbnail.jpg" />
  <meta property="og:url" content="{{ site_url }}" />
  <meta property="og:description" content="พิมพ์ชื่อจังหวัดที่เคยไป แล้วแสดงเป็นแผนที่ไปอวดเพื่อนได้เลย! เมืองไทยมีที่เที่ยวมากมาย น้ำตก ทะเล ภูเขา เที่ยวไทย ไม่ไปไม่รู้" />

  <!-- for Twitter -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="มาอวดจังหวัดที่เคยไปกัน!" />
  <meta name="twitter:description" content="พิมพ์ชื่อจังหวัดที่เคยไป แล้วแสดงเป็นแผนที่ไปอวดเพื่อนได้เลย! เมืองไทยมีที่เที่ยวมากมาย น้ำตก ทะเล ภูเขา เที่ยวไทย ไม่ไปไม่รู้" />
  <meta name="twitter:image" content="{{ site_url }}/public/thumbnail.jpg" />

	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.css">
	<link href="public/main.css" rel="stylesheet">
</head>
<body>
  <!-- Facebook SDK -->
  <div id="fb-root"></div>
  <script>
    window.fbAsyncInit = function() {
      FB.init({
        appId            : '872807962872359',
        autoLogAppEvents : true,
        xfbml            : true,
        version          : 'v2.9'
      });
      FB.AppEvents.logPageView();
    };
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.9&appId=105399996218449";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
  </script>
  <!-- Facebook SDK -->

  <nav id="global" class="nav">
    <div class="nav-left">
      <div class="site-logo nav-item">
        <a href="https://data.boonmeelab.com"><img src="public/logo_boonmeelab_small.png" /></a>
      </div>
      <div class="menu-item nav-item">
        <a href="https://www.boonmeelab.com" target="_blank">Work</a>
      </div>
      <div class="menu-item nav-item">
        <a href="https://data.boonmeelab.com" target="_blank">Data</a>
      </div>
    </div>
    <div class="nav-right">
      <div class="menu-item nav-item">
        <a href="https://www.facebook.com/BoonmeeLab" target="_blank">
          <i class="icon icon-facebook-squared"></i>
        </a>
        <a href="https://www.instagram.com/boonmeelab/" target="_blank">
          <i class="icon icon-instagram"></i>
        </a>
      </div>
    </div>
  </nav>

  <div class="container">
    <div id="map-columns" class="columns">
      <div class="column padding is-6-desktop">

        <div id="play-content" style="{{ page === 'play' ? '' : 'display: none;' }}">
          <h2>เคยไปจังหวัดไหนมาบ้าง?</h2>
          <p>คุณเคยแวะไปจังหวัดไหนบ้าง ขอแบบที่เคยแวะไปเที่ยว ไปค้างคืน หรือไปอยู่ แต่ขับรถผ่านนี่ไม่เข้าพวกนะ</p>
          <div id="input">
            <select id="provinces" class="ui fluid search dropdown" multiple="">
              <option value="">เลือกจังหวัดที่เคยไป …</option>
            </select>
          </div>

          <div class="spacing"></div>
          <button id="share-btn" class="button" disabled onclick="share(); return false;">แชร์แผนที่ของคุณบน Facebook</button>
        </div>

        <div id="result-content" style="{{ page === 'result' ? '' : 'display: none;' }}">
          <h2>เคยไปมาแล้ว {{ province.length }} จังหวัด</h2>
          <p>ได้แก่</p>
          <ul id="visited-province-list" class="two-column"></ul>

          <p>โดยเฉลี่ยคนไปมาแล้ว {{ avg_province }} จังหวัด จากข้อมูลทั้งหมด {{ people_count }} คน</p>

          <div class="spacing"></div>
          <div>Copy Link:</div>
          <div class="url-box">
            <div>{{ site_url }}/view/{{ map_id }}</div>
          </div>

          <div class="spacing"></div>
          <a href="" class="button">สร้างแผนที่ของคุณเอง</a>

          <div class="spacing"></div>
          <div class="spacing"></div>
          <div class="fb-page" data-href="https://www.facebook.com/BoonmeeLab" data-height="300" data-small-header="true" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true">
            <blockquote cite="https://www.facebook.com/BoonmeeLab" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/BoonmeeLab">Boonmee Lab</a></blockquote>
          </div>
        </div>

        <div class="is-hidden-mobile">
          <div class="spacing"></div>
          <div class="spacing"></div>
          <h6>สนับสนุนโดย</h6>
          <div class="banner">
            <a href="https://www.bluebasket.market/mibochestnut/product" target="_blank">
              <img src="https://www.bluebasket.market/api/image/595b1d14e875e61aa9afe52f" />
            </a>
          </div>
          <div class="banner">
            <a href="https://www.bluebasket.market/nanafruit/product" target="_blank">
              <img src="https://www.bluebasket.market/api/image/595b1d30e875e61aa9afe530" />
            </a>
          </div>
        </div>

      </div>
      <div class="column is-6-desktop">
	      <div id="result"></div>
      </div>
    </div>
  </div>
	<div id="credit">
		สร้างสรรค์โดย
    <div class="logo boonmeelab"><a href="https://www.facebook.com/BoonmeeLab/"><span></span></a></div>
  </div>

  <div class="container padding is-hidden-desktop">
    <div class="spacing"></div>
    <h6>สนับสนุนโดย</h6>
    <div class="banner is-fullwidth">
      <a href="https://www.bluebasket.market/mibochestnut/product" target="_blank">
        <img src="https://www.bluebasket.market/api/image/595b1d14e875e61aa9afe52f" />
      </a>
    </div>
    <div class="banner is-fullwidth">
      <a href="https://www.bluebasket.market/nanafruit/product" target="_blank">
        <img src="https://www.bluebasket.market/api/image/595b1d30e875e61aa9afe530" />
      </a>
    </div>
  </div>

  <!--<canvas id="canvas" width="320px" height="640px"></canvas>-->

	<!--  Adapted from https://gist.github.com/michellechandra/0b2ce4923dc9b5809922 -->
	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script
	  src="https://code.jquery.com/jquery-3.1.1.min.js"
	  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
	  crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.js"></script>
  <script type="text/javascript" src="https://canvg.github.io/canvg/rgbcolor.js"></script>
  <script type="text/javascript" src="https://canvg.github.io/canvg/StackBlur.js"></script>
  <script type="text/javascript" src="https://canvg.github.io/canvg/canvg.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
  <script>
    var site_url = {{ JSON.stringify(site_url || '') }};
    var interactive = {{ page === 'play' }};
    var visited_province_ids = {{ JSON.stringify(province || []) }};
    var visited_provinces = [];
    for (var i = 0; i < 77; i++) {
      visited_provinces.push(visited_province_ids.indexOf(i + 1) >= 0 ? '1' : '0');
    }
  </script>
	<script src="public/main.js"></script>
</body>
</html>
